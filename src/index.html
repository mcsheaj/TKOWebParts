<!doctype html>
<html>

<!--
    Export any web part from a SharePoint page - https://chuvash.eu/2014/09/19/export-any-web-part-from-a-sharepoint-page/ by Anatoly Mironov
    -->

<head>
    <meta charset="utf-8">
    <title>Creating a CSS3 Slider</title>
</head>

<body>

    <div id="slider" class="slider" data-bind='visible: $root.images().length > 0' style="display:none;">
        <div class="slider-wrapper" data-bind='foreach: images'>
            <div class="slide">
                <img data-bind='attr: { src: Url, alt: Title, "data-slide": $index() }' />
                <div class="caption" data-bind="visible: Title">
                    <p class="caption" data-bind='text: Title'></p>
                    <p class="description" data-bind='text: Description'></p>
                </div>
            </div>
        </div>
    </div>
    <div class="slider-nav" data-bind='foreach: { data: images, afterRender: applySlider }'>
        <a href="#" data-bind='attr: { "data-slide": $index() }'></a>
    </div>
    <div class="slider-menu" data-bind='visible: $root.images().length > 0' style="display:none;">
        <div title="Delete" data-bind='click: $root.toggleDialog.bind($root, ".deleteSliderImage")' style="width: 36px; height: 36px; position: relative; cursor: pointer; float: right;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" height="24" style="fill: #1462ac">
                <g transform="scale(0.03125)">
                    <path d="M 192 1024 h 640 l 64 -704 h -768 Z M 640 128 v -128 h -256 v 128 h -320 v 192 l 64 -64 h 768 l 64 64 v -192 h -320 Z M 576 128 h -128 v -64 h 128 v 64 Z"/>
                </g>
            </svg>
        </div>
        <div title="Edit" data-bind='click: $root.toggleDialog.bind($root, ".editSliderImage")' style="width: 36px; height: 36px; position: relative; cursor: pointer; float: right;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" height="24" style="fill: #1462ac">
                <g transform="scale(0.03125)">
                    <path d="M 864 0 c 88.364 0 160 71.634 160 160 c 0 36.02 -11.91 69.258 -32 96 l -64 64 l -224 -224 l 64 -64 c 26.742 -20.09 59.978 -32 96 -32 Z M 64 736 l -64 288 l 288 -64 l 592 -592 l -224 -224 l -592 592 Z M 715.578 363.578 l -448 448 l -55.156 -55.156 l 448 -448 l 55.156 55.156 Z" />
                </g>
            </svg>
        </div>
        <div title="Add" data-bind='click: $root.toggleDialog.bind($root, ".addSliderImages")' style="width: 36px; height: 36px; position: relative; cursor: pointer; float: right;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" height="24" style="fill: #1462ac">
                <g transform="scale(0.03125)">
                    <path d="M 992 384 h -352 v -352 c 0 -17.672 -14.328 -32 -32 -32 h -192 c -17.672 0 -32 14.328 -32 32 v 352 h -352 c -17.672 0 -32 14.328 -32 32 v 192 c 0 17.672 14.328 32 32 32 h 352 v 352 c 0 17.672 14.328 32 32 32 h 192 c 17.672 0 32 -14.328 32 -32 v -352 h 352 c 17.672 0 32 -14.328 32 -32 v -192 c 0 -17.672 -14.328 -32 -32 -32 Z"/>
                </g>
            </svg>
        </div>
        <div style="clear:both"></div>
    </div>
    <div class="addSliderImages" data-bind='visible: $root.images().length === 0' style="display:none;">
        <div>
            <div class="dragandrophandler">
                <div class="draganddropbusy" style="display:none"><img src="/sites/csrdemos/_layouts/images/progress.gif"></div>
                <div class="draganddroplabel">Drag & Drop Images Here...</div>
            </div>
        </div>
    </div>
    <div class="editSliderImage modalDialog" style="display:none">
        <div>
            <a data-bind='click: $root.toggleDialog.bind($root, ".editSliderImage")' href="#" title="Close" class="close">X</a>
            <h2>Edit Image</h2>
            <span class="sliderFormLabel">Title</span><input data-bind="value: selected().Title" type="text" class="titleInput"
            /><br />
            <span class="sliderFormLabel">Description</span><textarea rows="10" cols="55" data-bind="value: selected().Description"
                class="descriptionInput"></textarea><br />
            <button type="button" data-bind='click: updateImage' class="sliderButton editSave">Ok</button>
            <button type="button" data-bind='click: resetImage' class="sliderButton editReset">Cancel</button>
        </div>
    </div>
    <div class="deleteSliderImage modalDialog" style="display:none">
        <div>
            <a data-bind='click: $root.toggleDialog.bind($root, ".deleteSliderImage")' href="#" title="Close" class="close">X</a>
            <h2>Delete Confirmation</h2>
            <p>Are you sure you want to delete the current image?</p>
            <button type="button" data-bind='click: deleteImage' class="sliderButton delete">Delete</button>
        </div>
    </div>
    <script type='text/javascript' 
        src='/Style Library/tkoWebPart/pnp-ww.js' 
        ww-appname='ImageSlider' 
        ww-appbind='tkoWebPart.imageSlider.init'
        ww-appConfig='{"listTitle": "Pictures"}' 
        ww-appscripts='[{"src": "/Style Library/tkoWebPart/tkoWebPart.js", "priority":0}]'>
    </script>

</body>

</html>